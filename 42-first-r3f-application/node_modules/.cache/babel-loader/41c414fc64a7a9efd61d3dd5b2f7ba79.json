{"ast":null,"code":"import { useReducer, useRef, useDebugValue, useEffect, useLayoutEffect } from 'react';\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */new Set();\n\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach(listener => listener(state, previousState));\n    }\n  };\n\n  const getState = () => state;\n\n  const subscribeWithSelector = function (listener) {\n    let selector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getState;\n    let equalityFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Object.is;\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n\n  const destroy = () => listeners.clear();\n\n  const api = {\n    setState,\n    getState,\n    subscribe,\n    destroy\n  };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\n\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n\n  const useStore = function () {\n    let selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : api.getState;\n    let equalityFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Object.is;\n    const [, forceUpdate] = useReducer(c => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n\n    let newStateSlice;\n    let hasNewStateSlice = false;\n\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n\n      const unsubscribe = api.subscribe(listener);\n\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    useDebugValue(sliceToReturn);\n    return sliceToReturn;\n  };\n\n  Object.assign(useStore, api);\n\n  useStore[Symbol.iterator] = function () {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return {\n          value: items.shift(),\n          done\n        };\n      }\n\n    };\n  };\n\n  return useStore;\n}\n\nexport { create as default };","map":{"version":3,"names":["useReducer","useRef","useDebugValue","useEffect","useLayoutEffect","createStore","createState","state","listeners","Set","setState","partial","replace","nextState","previousState","Object","assign","forEach","listener","getState","subscribeWithSelector","selector","equalityFn","is","console","warn","currentSlice","listenerToAdd","nextSlice","previousSlice","add","delete","subscribe","destroy","clear","api","isSSR","window","navigator","test","userAgent","useIsomorphicLayoutEffect","create","useStore","forceUpdate","c","stateRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","current","newStateSlice","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","error","unsubscribe","sliceToReturn","Symbol","iterator","items","next","done","length","value","shift","default"],"sources":["/home/kevin/R3F-Sandbox/42-first-r3f-application/node_modules/zustand/esm/index.js"],"sourcesContent":["import { useReducer, useRef, useDebugValue, useEffect, useLayoutEffect } from 'react';\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    useDebugValue(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\nexport { create as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}